!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("Harmonographs",[],i):"object"==typeof exports?exports.Harmonographs=i():t.Harmonographs=i()}(self,(()=>(()=>{"use strict";var t={d:(i,e)=>{for(var h in e)t.o(e,h)&&!t.o(i,h)&&Object.defineProperty(i,h,{enumerable:!0,get:e[h]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},i={};t.d(i,{default:()=>h});var e=function(){function t(t,i){this.width=t,this.height=i,this.A=this.width/2-100,this.B=this.height/2-100,this.points=[[1,1],[1,2],[1,3],[2,3],[3,4],[3,5],[4,5],[5,6]],this.phases=["0","π/2","3π/4","π"],this.phaseDifference=.1,this.deltaPhaseDifference=.01,this.frequencyRatio=0,this.iteration=1,this.iterationDelta=5}return t.prototype.draw=function(t){this.phaseDifference>=Math.PI?(this.frequencyRatio=(this.frequencyRatio+1)%this.points.length,this.deltaPhaseDifference*=-1):this.phaseDifference<=0&&(this.deltaPhaseDifference*=-1),this.phaseDifference+=this.deltaPhaseDifference,this.points[this.frequencyRatio][0],this.points[this.frequencyRatio][1],t.lineWidth=4,this.harmonograph(t)},t.prototype.harmonograph=function(t){(this.iteration>3e3||this.iteration<=0)&&(this.iterationDelta*=-1),this.iteration+=this.iterationDelta;var i=this.iteration-500;t.lineWidth=3;for(var e=0;i<this.iteration;){var h=390*Math.sin(2*i+.3)*Math.exp(-.001*i),s=390*Math.sin(2.01*i+1.7)*Math.exp(-.001*i);for(t.strokeStyle="hsl("+(i-this.iteration)/500*360+",100%,50%)",t.shadowBlur=40,t.shadowColor="hsl("+(i-this.iteration)/500*360+",100%,50%)",t.beginPath(),t.moveTo(this.width/2+h,this.height/2+s),e=0;e<100&&i<this.iteration;e+=.1)i+=.1,h=390*Math.sin(2*i+.3)*Math.exp(-.001*i),s=390*Math.sin(2.01*i+1.7)*Math.exp(-.001*i),t.lineTo(this.width/2+h,this.height/2+s);t.stroke(),t.closePath()}},t.prototype.drawLineSegment=function(t,i,e,h,s){var a=this.A*Math.sin(h*i+this.phaseDifference),n=this.B*Math.sin(s*i);t.strokeStyle="hsl("+i/(2*Math.PI)*360+",100%,50%)",t.shadowBlur=20,t.shadowColor="hsl("+i/(2*Math.PI)*360+",100%,50%)",t.beginPath(),t.moveTo(this.width/2+a,this.height/2+n);for(var o=i+.01;o<=e+.01;o+=.01)a=this.A*Math.sin(h*o+this.phaseDifference),n=this.B*Math.sin(s*o),t.lineTo(this.width/2+a,this.height/2+n);t.stroke(),t.closePath()},t}();const h=function(){function t(){if(this.canvas=document.getElementById("Harmonographs-canvas"),null==this.canvas)throw new Error("Could not find canvas.");this.ctx=this.canvas.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.canvas.width=500,this.canvas.height=500,this.harmonographs=new e(this.canvas.width,this.canvas.height),this.lastTimeStamp=0}return t.prototype.Start=function(){this.animate(0)},t.prototype.animate=function(t){var i=this;t-this.lastTimeStamp>=10&&(this.lastTimeStamp=t,this.draw()),requestAnimationFrame((function(t){return i.animate(t)}))},t.prototype.draw=function(){this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.harmonographs.draw(this.ctx)},t}();return i.default})()));